<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<title>Y2K Crystal Rose</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: radial-gradient(circle at center, #0b102f, #000);
  }
  canvas { display: block; }
</style>
</head>
<body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r152/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/examples/js/postprocessing/EffectComposer.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/examples/js/postprocessing/RenderPass.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/examples/js/postprocessing/UnrealBloomPass.js"></script>

<script>
const scene = new THREE.Scene();

const camera = new THREE.PerspectiveCamera(
  60,
  window.innerWidth / window.innerHeight,
  0.1,
  1000
);
camera.position.z = 8;

const renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setPixelRatio(window.devicePixelRatio);
document.body.appendChild(renderer.domElement);

// ===== 光源 =====
const light1 = new THREE.PointLight(0x9bdcff, 3);
light1.position.set(5, 5, 5);
scene.add(light1);

const light2 = new THREE.PointLight(0xffffff, 2);
light2.position.set(-5, -3, 5);
scene.add(light2);

// ===== Y2K 水晶材质 =====
const roseMaterial = new THREE.MeshPhysicalMaterial({
  color: 0x8fd3ff,
  metalness: 0.3,
  roughness: 0.05,
  transmission: 1,
  thickness: 0.8,
  clearcoat: 1,
  clearcoatRoughness: 0,
  transparent: true,
  opacity: 0.95
});

// ===== 创建单个花瓣 =====
function createPetal(scale = 1) {
  const shape = new THREE.Shape();
  shape.moveTo(0, 0);
  shape.bezierCurveTo(0.5, 1.2, 1.2, 1.2, 0, 2);
  shape.bezierCurveTo(-1.2, 1.2, -0.5, 1.2, 0, 0);

  const geometry = new THREE.ExtrudeGeometry(shape, {
    depth: 0.1,
    bevelEnabled: true,
    bevelThickness: 0.05,
    bevelSize: 0.05,
    bevelSegments: 3
  });

  const petal = new THREE.Mesh(geometry, roseMaterial);
  petal.scale.set(scale, scale, scale);
  petal.rotation.x = Math.PI / 2;
  return petal;
}

// ===== 组装玫瑰
