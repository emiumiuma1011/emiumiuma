<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<title>Y2K Blue Rose</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: radial-gradient(circle at center, #0a0f2e, #000);
  }
  canvas {
    display: block;
  }
</style>
</head>
<body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

<script>
const scene = new THREE.Scene();

const camera = new THREE.PerspectiveCamera(
  60,
  window.innerWidth / window.innerHeight,
  0.1,
  1000
);
camera.position.z = 15;

const renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

// ===== 光源 =====
const light1 = new THREE.PointLight(0x99ccff, 2);
light1.position.set(10, 10, 10);
scene.add(light1);

const light2 = new THREE.PointLight(0xffffff, 1);
light2.position.set(-10, -10, 5);
scene.add(light2);

// ===== Y2K 材质 =====
const roseMaterial = new THREE.MeshPhysicalMaterial({
  color: 0x87cefa,
  metalness: 0.8,
  roughness: 0.1,
  transmission: 0.6,
  transparent: true,
  opacity: 0.95,
  clearcoat: 1,
  clearcoatRoughness: 0
});

// ===== 创建玫瑰花瓣 =====
function createPetal(radius, height, angleOffset) {
  const geometry = new THREE.ConeGeometry(radius, height, 32, 1, true);
  const petal = new THREE.Mesh(geometry, roseMaterial);
  petal.rotation.x = Math.PI / 2;
  petal.rotation.z = angleOffset;
  return petal;
}

// ===== 创建单朵玫瑰 =====
function createRose() {
  const group = new THREE.Group();

  for (let i = 0; i < 20; i++) {
    const petal = createPetal(1.2 - i * 0.04, 2, i * 0.3);
    petal.position.y = i * 0.1;
    group.add(petal);
  }

  return group;
}

// ===== 创建一束玫瑰 =====
const bouquet = new THREE.Group();

for (let i = 0; i < 3; i++) {
  const rose = createRose();
  rose.position.x = (i - 1) * 3;
  bouquet.add(rose);
}

scene.add(bouquet);

// ===== 创建星星装饰 =====
const starMaterial = new THREE.MeshStandardMaterial({
  color: 0x9bdcff,
  emissive: 0x66ccff,
  metalness: 1,
  roughness: 0.2
});

function createStar() {
  const shape = new THREE.Shape();
  const outer = 0.5;
  const inner = 0.2;

  for (let i = 0; i < 5; i++) {
    const angle = i * (Math.PI * 2) / 5;
    shape.lineTo(Math.cos(angle) * outer, Math.sin(angle) * outer);
    shape.lineTo(Math.cos(angle + Math.PI/5) * inner, Math.sin(angle + Math.PI/5) * inner);
  }

  const geometry = new THREE.ExtrudeGeometry(shape, {
    depth: 0.2,
    bevelEnabled: false
  });

  return new THREE.Mesh(geometry, starMaterial);
}

for (let i = 0; i < 20; i++) {
  const star = createStar();
  star.position.set(
    (Math.random() - 0.5) * 20,
    (Math.random() - 0.5) * 20,
    (Math.random() - 0.5) * 20
  );
  scene.add(star);
}

// ===== 动画 360°旋转 =====
function animate() {
  requestAnimationFrame(animate);
  bouquet.rotation.y += 0.01;
  renderer.render(scene, camera);
}

animate();

window.addEventListener("resize", () => {
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
});
</script>

</body>
</html>
